"use strict";(self.webpackChunkbatas_maw=self.webpackChunkbatas_maw||[]).push([[394],{1772:function(i,e,n){var r=n(5544),t=n(9379),l=n(5043),s=n(9419),o=n(2023),c=n(6036),a=n(3318),d=(n(6433),n(7024)),u=n(228),v=n(4335),p=n(579);e.A=function(i){var e=i.city,n=i.coordinate,m=(0,v.A)("provinces-services").data,f=(0,l.useState)([28.3780464,83.9999901]),h=(0,r.A)(f,2),x=h[0],j=h[1],g=(0,l.useState)(7.5),b=(0,r.A)(g,2),y=b[0],N=b[1],A=(0,l.useRef)(null),w=(0,l.useMemo)((function(){return function(i){return(null===i||void 0===i?void 0:i.map((function(i){return(0,t.A)((0,t.A)({},i),{},{districts:i.districts.map((function(i){return(0,t.A)((0,t.A)({},i),{},{services:i.services.filter((function(i){return i}))})})).filter((function(i){return i.services.length>0}))})})).filter((function(i){return i.districts.length>0})))||[]}(m)}),[m]),L=w,S=(0,l.useMemo)((function(){return(null===(i=L)||void 0===i?void 0:i.flatMap((function(i){return i.districts.flatMap((function(i){return i.services.map((function(i){return{id:null===i||void 0===i?void 0:i.id,lat:null===i||void 0===i?void 0:i.lat,long:null===i||void 0===i?void 0:i.lang,name:null===i||void 0===i?void 0:i.name}}))}))})).filter((function(i){return i.lat&&i.long&&i.name})))||[];var i}),[L]),C=function(i){return L.reduce((function(e,n){return n.districts.forEach((function(n){n.services.forEach((function(n){n.city===i&&(e.service=n)}))})),e}),{})}(e);return(0,l.useEffect)((function(){if(n)j([parseFloat(n.lat),parseFloat(n.lang)]),N(13);else if(e){var i;if(null!==C&&void 0!==C&&C.service)j([null===C||void 0===C?void 0:C.service.lat,null===C||void 0===C||null===(i=C.service)||void 0===i?void 0:i.lang]),N(13)}else j([28.3780464,83.9999901]),N(7.5)}),[e,n]),(0,l.useEffect)((function(){A.current&&A.current.setView(x,y)}),[x,y]),(0,p.jsxs)(s.W,{center:x,zoom:y,scrollWheelZoom:!1,className:"h-full min-h-[400px] lg:min-h-[600px] xl:min-h-[800px]",ref:A,children:[(0,p.jsx)(o.e,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n&&(0,p.jsx)(c.p,{position:[parseFloat(n.lat),parseFloat(n.lang)],icon:new u.Icon({iconUrl:d,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-30]}),children:(0,p.jsx)(a.z,{position:[parseFloat(n.lat),parseFloat(n.lang)],children:n.name})}),S.map((function(i){return(0,p.jsx)(c.p,{position:[i.lat,i.long],icon:new u.Icon({iconUrl:d,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-30]}),children:(0,p.jsx)(a.z,{children:i.name})},i.id)}))]})}},3394:function(i,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(9379),t=n(5544),l=n(5043),s=n(7656),o=n(1772),c=n(436),a=n(4467),d=n(1982),u=n(579),v=function(i){var e=i.selectedLocation,n=i.setSelectedLocation,t=i.coordinate,s=i.mapData,o=(0,d.e)().setCoordinate;(0,l.useEffect)((function(){t&&n((function(i){return(0,r.A)((0,r.A)({},i),{},{province:"",districtList:[],district:"",cityList:[],city:""})}))}),[t,n]);var v=function(i,t){if(n((function(e){return(0,r.A)((0,r.A)({},e),{},(0,a.A)({},i,t))})),o(""),"province"===i){var l=s.find((function(i){return i.name===t}));n((function(i){return(0,r.A)((0,r.A)({},i),{},{districtList:(null===l||void 0===l?void 0:l.districts)||[],district:"",cityList:[],city:""})}))}else if("district"===i){var c,d=null===(c=e.districtList)||void 0===c?void 0:c.find((function(i){return i.name===t}));d?(console.log(d.services,"services"),n((function(i){return(0,r.A)((0,r.A)({},i),{},{cityList:d.services||[],city:""})}))):n((function(i){return(0,r.A)((0,r.A)({},i),{},{cityList:[],city:""})}))}},p=(0,l.useMemo)((function(){return s.map((function(i,e){return(0,u.jsx)("option",{value:i.name,children:i.name},e)}))}),[s]),m=(0,l.useMemo)((function(){var i;return null===(i=e.districtList)||void 0===i?void 0:i.map((function(i,e){return(0,u.jsx)("option",{value:i.name,children:i.name},e)}))}),[e.districtList]),f=(0,l.useMemo)((function(){var i,n=new Set(null===(i=e.cityList)||void 0===i?void 0:i.map((function(i){return null===i||void 0===i?void 0:i.city})));return(0,c.A)(n).map((function(i,e){return(0,u.jsx)("option",{value:i,children:i},e)}))}),[e.cityList]);return(0,u.jsx)("form",{className:"mx-auto max-w-[1000px]",children:(0,u.jsxs)("div",{className:"-mx-2 flex flex-wrap gap-y-4 md:flex-nowrap lg:-mx-8",children:[(0,u.jsx)("div",{className:"form-group w-full px-2 md:w-1/3 lg:px-8",children:(0,u.jsxs)("select",{name:"province",className:"form-control w-full border border-solid border-grey px-2 py-2 capitalize outline-0",onChange:function(i){return v("province",i.target.value)},value:e.province,"aria-label":"Select Province",children:[(0,u.jsx)("option",{value:"",children:"Select Province"}),p]})}),(0,u.jsx)("div",{className:"form-group w-full px-2 md:w-1/3 lg:px-8",children:(0,u.jsxs)("select",{name:"district",className:"form-control w-full border border-solid border-grey px-2 py-2 capitalize outline-0",onChange:function(i){return v("district",i.target.value)},value:e.district,disabled:!e.province,"aria-label":"Select District",children:[(0,u.jsx)("option",{value:"",children:"Select District"}),m]})}),(0,u.jsx)("div",{className:"form-group w-full px-2 md:w-1/3 lg:px-8",children:(0,u.jsxs)("select",{name:"city",className:"form-control w-full border border-solid border-grey px-2 py-2 capitalize outline-0",value:e.city,disabled:!e.district,onChange:function(i){return v("city",i.target.value)},"aria-label":"Select City",children:[(0,u.jsx)("option",{value:"",children:"Select City"}),f]})})]})})},p=n(6788),m=n(7962),f=n(423),h=n(4335),x=n(5475),j=(0,l.forwardRef)((function(i,e){var n=i.setCoordinate,r=function(i){return(null===i||void 0===i?void 0:i.filter((function(i){return i.districts.some((function(i){return i.services.length>0}))})))||[]}(i.mapData);return(0,u.jsx)("div",{className:"branch-tabs py-12",children:(0,u.jsx)("div",{className:"side-padding",children:(0,u.jsx)("div",{className:"container mx-auto",children:(0,u.jsx)(p.tU,{children:(0,u.jsxs)("div",{className:"grid gap-8 md:grid-cols-3 lg:grid-cols-4",children:[(0,u.jsx)("div",{className:"col-span-1",children:(0,u.jsx)(p.wb,{className:"border border-solid border-light-grey",children:null===r||void 0===r?void 0:r.map((function(i){return(0,u.jsxs)(p.oz,{className:"tab border-solid border-light-grey px-4 py-3 uppercase [&:not(:last-child)]:border-b",children:[null===i||void 0===i?void 0:i.name,(0,u.jsx)(f.pte,{})]},null===i||void 0===i?void 0:i.id)}))})}),(0,u.jsx)("div",{className:"tabs-content col-span-full md:col-span-2 lg:col-span-3",children:null===r||void 0===r?void 0:r.map((function(i,r){var t;return(0,u.jsx)(p.Kp,{children:(0,u.jsx)("div",{className:"grid grid-cols-1 gap-8 gap-y-10 lg:grid-cols-2 xl:grid-cols-3",children:null===i||void 0===i||null===(t=i.districts)||void 0===t?void 0:t.map((function(i,r){var t;return(0,u.jsx)(l.Fragment,{children:null===i||void 0===i||null===(t=i.services)||void 0===t?void 0:t.map((function(i){return(0,u.jsxs)("div",{className:"col-span-1 text-grey",children:[(0,u.jsx)("h3",{className:"heading mb-2",children:null===i||void 0===i?void 0:i.name}),(0,u.jsxs)("ul",{className:"mb-3 leading-9",children:[(null===i||void 0===i?void 0:i.province)&&(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Province"}),null===i||void 0===i?void 0:i.province]}),(null===i||void 0===i?void 0:i.district)&&(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"District"}),null===i||void 0===i?void 0:i.district]}),(null===i||void 0===i?void 0:i.city)&&(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"city"}),null===i||void 0===i?void 0:i.city]}),(null===i||void 0===i?void 0:i.type)&&(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Type"}),null===i||void 0===i?void 0:i.type]}),(null===i||void 0===i?void 0:i.location)&&(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Address"}),null===i||void 0===i?void 0:i.location]}),(null===i||void 0===i?void 0:i.email)&&(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Email"}),(0,u.jsx)(x.N_,{to:"mailto:".concat(null===i||void 0===i?void 0:i.email),className:"inline-block hover:text-primary hover:underline",children:null===i||void 0===i?void 0:i.email})]}),(null===i||void 0===i?void 0:i.phone)&&(0,u.jsxs)("li",{children:[(0,u.jsx)("span",{children:"Phone"}),(0,u.jsx)(x.N_,{to:"tel:".concat(null===i||void 0===i?void 0:i.phone),className:"inline-block hover:text-primary hover:underline",children:null===i||void 0===i?void 0:i.phone})]})]}),(0,u.jsxs)("button",{className:"flex w-full items-center justify-center gap-2 uppercase text-secondary",onClick:function(){!function(i){n(i),e&&e.current&&e.current.scrollIntoView({behavior:"smooth"})}(i)},children:["View on Map",(0,u.jsx)(m.jJQ,{className:"text-2xl"})]})]},null===i||void 0===i?void 0:i.id)}))},null===i||void 0===i?void 0:i.id)}))})},null===i||void 0===i?void 0:i.id)}))})]})})})})})})),g=n(1926),b=function(){var i=(0,h.A)("provinces-services"),e=i.data,n=i.isLoading,c=(0,l.useRef)(null),a=(0,d.e)(),p=a.coordinate,m=a.setCoordinate,f=(0,l.useState)({province:"",districtList:[],district:"",cityList:[],city:""}),x=(0,t.A)(f,2),b=x[0],y=x[1],N=(0,l.useMemo)((function(){return(null===(i=e)||void 0===i?void 0:i.map((function(i){return(0,r.A)((0,r.A)({},i),{},{districts:i.districts.map((function(i){return(0,r.A)((0,r.A)({},i),{},{services:i.services.filter((function(i){return i}))})})).filter((function(i){return i.services.length>0}))})})).filter((function(i){return i.districts.length>0})))||[];var i}),[e]);return n?(0,u.jsx)(g.A,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.A,{}),(0,u.jsxs)("section",{className:"branches-page",children:[(0,u.jsx)("div",{className:"branches-banner",children:(0,u.jsx)("figure",{className:"h-[400px] md:h-[500px]",children:(0,u.jsx)("img",{src:"/assets/images/hero/1.png",className:"h-full object-cover object-center",alt:"Batas"})})}),(0,u.jsxs)("div",{className:"branches-wrapper section-break",children:[(0,u.jsx)("div",{className:"branch-form pb-8",children:(0,u.jsx)("div",{className:"side-padding",children:(0,u.jsxs)("div",{className:"container mx-auto",children:[(0,u.jsx)("div",{className:"heading-wrapper mb-7 text-center",children:(0,u.jsx)("h4",{className:"heading",children:"Covering Expanse: Our Network"})}),(0,u.jsx)(v,{selectedLocation:b,setSelectedLocation:y,coordinate:p,mapData:N})]})})}),(0,u.jsx)("div",{className:"branch-map",ref:c,children:(0,u.jsx)(o.A,{city:b.city,coordinate:p,mapData:N})}),(0,u.jsx)(j,{setCoordinate:m,ref:c,mapData:e})]})]})]})}}}]);
//# sourceMappingURL=394.ad8ac24d.chunk.js.map